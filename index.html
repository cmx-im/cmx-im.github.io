<!DOCTYPE html>
<html lang="zh-Hans" dir="ltr">

  <head>
    <meta charset="utf-8">

    <!-- Page Title-->
    <title>长毛象中文站 - Mastodon Chinese</title>

    <!-- Meta Tags-->
    <meta name="description" content="CMX.IM是长毛象(Mastodon)的一个中文实例。Mastodon 是一个开源的、符合 GNU Social 规范的去中心化社交网络，整个长毛象社区是由无数实例组成的。注册本社区后你不仅可以与本实例内的用户互动，并且可以与来自世界各地的其他实例中的用户无缝连接。 ">
    <meta name="keywords" content="长毛象中文站, 长毛象, 草莓县, 联邦宇宙, 去中心化, 社交网络, Mastodon, Mastodon Chinese, Fediverse">
    <meta name="author" content="长毛象中文站">

    <!-- Viewport Meta-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Template Favicon & Icons Start -->
    <link rel="icon" href="favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="img/favicon/apple-touch-icon.png">
    <link rel="manifest" href="img/favicon/manifest.webmanifest">
    <!-- Template Favicon & Icons End -->
    
    <!-- Template Styles Start -->
    <link rel="stylesheet" type="text/css" href="css/loaders/loader.css">
    <link rel="stylesheet" type="text/css" href="css/plugins.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <!-- Template Styles End -->

    <!-- Custom Browser Color Start -->
    <meta name="theme-color" content="#fc466b">
    <meta name="msapplication-navbutton-color" content="#fc466b">
    <meta name="apple-mobile-web-app-status-bar-style" content="#fc466b">
    <!-- Custom Browser Color End -->

    <style>
      a {
        color: blueviolet;
      }
    </style>

  </head>

  <body>

    <!-- Loader Start -->
    <div class="loader">
      <div class="loader__container">
        <div class="loader-content">
          <div class="loader-logo fadeIn">
            <!-- Your Logo Here -->
            <img src="favicon.ico" alt="长毛象中文站">
          </div>
        </div>
      </div>
      <div class="loader__darkscreen"></div>
    </div>
    <!-- Loader End -->

    <!-- Main Section Start -->
    <section id="main" class="main">

      <!-- Main Section Content Start -->
      <div class="main__content">
        <div class="container-fluid p-0 fullheight">
          <div class="row g-0 fullheight">

            <!-- Main Section Intro Start -->
            <div class="col-12 col-xl-6 main__intro">
              <div class="intro__content">

                <!-- Headline Start -->
                <div id="headline" class="headline">
                  <!-- Animated Headline Start -->
                  <h1 class="headline__title animated-headline">
                    我们相信<span class="gradient-text">社交媒体</span><br>
                    应该是<span id="typed-strings">
                      <b>尊重隐私的</b>
                      <b>言论自由的</b>
                      <b>安全的</b>
                      <b>包容多元的</b>
                      <b>来去自由的</b>
                    </span>
                    <span id="typed"></span>
                  </h1>
                  <!-- Animated Headline End -->
                  <p class="headline__text">长毛象中文站是一个开放、友好、有爱的社区。长毛象中文站主题为喵、汪、各种动物、社交、科技、编程及生活。
                    我们欢迎友好、热情、乐于分享的朋友，无论你的兴趣点是什么。长毛象中文站是 Mastodon 的一个中文实例。
                    Mastodon 是一个开源的、符合 GNU Social 规范的去中心化社交网络，整个 Mastodon 社区是由无数实例组成的。
                    注册本社区后你不仅可以与本实例内的用户互动，并且可以与来自世界各地的其他实例中的用户无缝连接。</p>
                  
                  <p id="walled-warning" style="display:none; color:palevioletred"><br><strong>
                    ⚠️ 检测到您的网络环境阻断了到长毛象中文站的连接！
                    如果您在中国，请尝试使用下方“镜像入口”或使用VPN，例如
                    <a href="https://github.com/geph-official/geph4-client/wiki/%E8%BF%B7%E9%9B%BE%E9%80%9A%EF%BC%88%E5%85%8D%E7%BF%BB%E5%A2%99%E9%95%9C%E5%83%8F%EF%BC%89">迷雾通VPN</a>，访问本站。
                    镜像入口仍然随时可能被墙，请收藏本页面以便日后访问。
                  </strong></p>
                  
                  <p id="proxy-missing-filter-warning" style="display:none; color:palevioletred"><br><strong>
                    ⚠️ 检测到您已经翻墙成功，但可能没有正确配置VPN的分流规则。
                    请将 m.cmx.im 这个域名添加到到您的VPN软件的分流规则中，或使用全局代理模式。
                    否则即使开启了VPN，如果本站不在翻墙规则内，您依然无法正常访问本站。
                    </strong></p>

                  <p id="walled-ok" style="display:none; color:cyan"><br><strong>✅ 您的网络环境通畅，可以正常访问长毛象中文站。</strong></p>
                  
                  <div class="headline__btnholder">
                    <a id="login" href="https://m.cmx.im/" target="_blank" class="btn btn-l btn-gradient">
                      <span class="btn-border"></span>
                      <span class="btn-hover"></span>
                      <span class="btn-caption">登录/注册</span>
                    </a>
                    <a id="mirror-login" href="https://m.cmx.im/" target="_blank" class="btn btn-l btn-gradient" style="display:none;">
                      <span class="btn-border"></span>
                      <span class="btn-hover"></span>
                      <span class="btn-caption">镜像入口</span>
                    </a>
                    <a id="terms" href="terms.html" target="_blank" class="btn btn-l btn-outline">
                      <span class="btn-border"></span>
                      <span class="btn-hover"></span>
                      <span class="btn-caption">社区规则</span>
                    </a>
                  </div>
                </div>
                <!-- Headline End -->

                

              </div>
            </div>
            <!-- Main Section Intro End -->

            <!-- Main Section Media Start -->
            <div class="col-12 col-xl-6 main__media">
              <div class="main__darkscreen"></div>
              <div class="media__content">

                <!-- Main Section Split Image Background Start -->
                <div class="media__image media-image-1"></div>
                <!-- Main Section Split Image Background End -->

                <!-- Main Section Color Gradient Layer Start -->
                <div class="color-layer gradient-layer-bottom-low"></div>
                <!-- Main Section Color Gradient Layer End -->

                <!-- Main Section Copyright Start -->
                <div class="media__copyright">
                  <p><a href="https://unsplash.com/@chengfengrecord" class="light" target="_blank">Cheng Feng</a></p>
                </div>
                <!-- Main Section Copyright Start -->

              </div>
            </div>
            <!-- Main Section Media End -->

            

          </div>
        </div>
      </div>
      <!-- Main Section Content End -->

    </section>
    <!-- Main Section End -->

    

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

      <!-- Background of PhotoSwipe.
      It's a separate element, as animating opacity is faster than rgba(). -->
      <div class="pswp__bg"></div>

      <!-- Slides wrapper with overflow:hidden. -->
      <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->
        <!-- don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

          <div class="pswp__top-bar">

            <!--  Controls are self-explanatory. Order can be changed. -->

            <div class="pswp__counter"></div>

            <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

            <button class="pswp__button pswp__button--share" title="Share"></button>

            <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

            <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

            <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
            <!-- element will get class pswp__preloader-active when preloader is running -->
            <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
            </div>
          </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

      </div>

    </div>

    <!-- Load Scripts Start -->
    <script src="js/libs.min.js"></script>
    <script src="js/gallery-init.js"></script>
    <script src="js/custom.js"></script>
    <!-- <script src="js/maps/map.js"></script> -->
    <!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDNMDtmEsvSevM4ztfsbhLfLNZhKHCvWXk"></script> -->
                  
    <script>

      // Randomly select a mirror URL
      // it's useless for decoying anything at the front-end, 
      // but it's still slightly better than listing all URLs explicitly...
      function getRandomMirror() {
        var mirrors = [
          "https://cmx.404found.ir",
          "https://cmx.dccpjn.gob.ar",
        ];

        // Loop through all mirrors and check if they are accessible
        // if accessible, add to a new list
        var reachableMirrors = [];
        mirrors.forEach(mirror => {
          fetch(mirror + '/favicon.ico', {mode: 'no-cors'}).then(r=>{
            // Wait for 1 second before adding to the list
            console.log(mirror + ' reachable');
            reachableMirrors.push(mirror);
          })
          .catch(e=>{
            console.log(mirror + ' unreachable');
          });
        });

        // Wait for 1 second before checking the list
        // if the list is empty, return a random mirror
        setTimeout(function(){
          if (reachableMirrors.length == 0) {
            console.log('no reachable mirrors');
            var randomIndex = Math.floor(Math.random() * mirrors.length);
            document.getElementById("mirror-login").href = mirrors[randomIndex];
          } else {
            console.log('reachable mirrors: ' + reachableMirrors);
            // Randomly select a mirror from the reachable list
            var randomMirror = reachableMirrors[Math.floor(Math.random() * reachableMirrors.length)];
            console.log('random mirror: ' + randomMirror);
            document.getElementById("mirror-login").href = randomMirror;
          }
        }, 1000);

      }
      
      // Check if m.cmx.im is accessible
      fetch('https://m.cmx.im/favicon.ico', {mode: 'no-cors'}).then(r=>{
        console.log('mastodon reachable');
        document.getElementById("walled-ok").style.display = "inline-block";
      })
      .catch(e=>{

        console.log('mastodon unreachable');
        document.getElementById("walled-warning").style.display = "inline-block";
        document.getElementById("mirror-login").style.display = "inline-block";
        getRandomMirror();

        // Check if youtube.com is accessible
        fetch('https://www.youtube.com/favicon.ico', {mode: 'no-cors'}).then(r=>{
          console.log('youtube reachable');
          document.getElementById("proxy-missing-filter-warning").style.display = "inline-block";
        })
        .catch(e=>{
          console.log('youtube unreachable');
        })

      })

    </script>

    <!-- Load Scripts End -->

  </body>

</html>
